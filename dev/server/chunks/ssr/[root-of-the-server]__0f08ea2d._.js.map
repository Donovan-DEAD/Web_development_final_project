{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/donov/OneDrive/Escritorio/Escuela/Semester_3/Web_development_final_project/z/refactor_page/public/images/menu_three_bars.svg.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 256, height: 214, blurWidth: 0, blurHeight: 0};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,kQAAG;IAAE,OAAO;IAAK,QAAQ;IAAK,WAAW;IAAG,YAAY;AAAC"}},
    {"offset": {"line": 51, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/donov/OneDrive/Escritorio/Escuela/Semester_3/Web_development_final_project/z/refactor_page/public/images/menu_cross.svg.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 201, height: 198, blurWidth: 0, blurHeight: 0};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,6PAAG;IAAE,OAAO;IAAK,QAAQ;IAAK,WAAW;IAAG,YAAY;AAAC"}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/donov/OneDrive/Escritorio/Escuela/Semester_3/Web_development_final_project/z/refactor_page/public/images/favicon.svg.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 32, height: 32, blurWidth: 0, blurHeight: 0};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,0PAAG;IAAE,OAAO;IAAI,QAAQ;IAAI,WAAW;IAAG,YAAY;AAAC"}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/donov/OneDrive/Escritorio/Escuela/Semester_3/Web_development_final_project/z/refactor_page/src/components/ClientNavbar.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\nimport AppBar from '@mui/material/AppBar';\nimport Toolbar from '@mui/material/Toolbar';\nimport IconButton from '@mui/material/IconButton';\nimport Typography from '@mui/material/Typography';\nimport Button from '@mui/material/Button';\nimport Box from '@mui/material/Box';\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\nimport Image from 'next/image';\n\n// Image imports\nimport MenuThreeBarsIcon from '../../public/images/menu_three_bars.svg';\nimport MenuCrossIcon from '../../public/images/menu_cross.svg';\nimport Favicon from '../../public/images/favicon.svg';\n\ninterface ClientNavbarProps {\n  username: string | null;\n  currentPage: string;\n  user: { permsLabel: string } | null;\n}\n\nconst ClientNavbar: React.FC<ClientNavbarProps> = ({ username, currentPage, user }) => {\n  const [anchorElNav, setAnchorElNav] = useState<null | HTMLElement>(null);\n  const router = useRouter();\n\n  const handleOpenNavMenu = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorElNav(event.currentTarget);\n  };\n\n  const handleCloseNavMenu = () => {\n    setAnchorElNav(null);\n  };\n\n  const handleLogout = async () => {\n    await fetch('/api/auth/logout', { method: 'POST' });\n    router.push('/');\n  };\n\n  console.log(user)\n  const [isAdmin, setIsAdmin] = useState(user && user.permsLabel === 'admin')\n  const [isEditorOrAdmin, setIsEditor] = useState(user && (user.permsLabel === 'admin' || user.permsLabel === 'editor'))\n\n  useEffect(() => {\n    if (user) {\n      setIsAdmin(user.permsLabel === 'admin');\n      setIsEditor(user.permsLabel === 'admin' || user.permsLabel === 'editor');\n    } else {\n      setIsAdmin(false);\n      setIsEditor(false);\n    }\n  }, [user]);\n\n  return (\n    <AppBar position=\"static\" className=\"header\">\n      <Toolbar component=\"nav\" className=\"navbar\">\n        <Link href=\"/\" passHref>\n          <Box component=\"div\" className=\"navbar__logo__anchor\">\n            <Image\n              src={Favicon}\n              alt=\"Logo\"\n              className=\"navbar__logo__img\"\n              width={40}\n              height={40}\n            />\n          </Box>\n        </Link>\n\n        {/* Mobile menu icon and menu */}\n        <Box sx={{ flexGrow: 1, display: { xs: 'flex', md: 'none' }, justifyContent: 'flex-end' }}>\n          <IconButton\n            size=\"large\"\n            aria-label=\"account of current user\"\n            aria-controls=\"menu-appbar\"\n            aria-haspopup=\"true\"\n            onClick={handleOpenNavMenu}\n            color=\"inherit\"\n            className=\"navbar__menu-icon\"\n          >\n            {anchorElNav ? (\n              <Image src={MenuCrossIcon} alt=\"Close menu\" width={30} height={30} />\n            ) : (\n              <Image src={MenuThreeBarsIcon} alt=\"Open menu\" width={30} height={30} />\n            )}\n          </IconButton>\n          <Menu\n            id=\"menu-appbar\"\n            anchorEl={anchorElNav}\n            anchorOrigin={{\n              vertical: 'bottom',\n              horizontal: 'left',\n            }}\n            keepMounted\n            transformOrigin={{\n              vertical: 'top',\n              horizontal: 'left',\n            }}\n            open={Boolean(anchorElNav)}\n            onClose={handleCloseNavMenu}\n            sx={{\n              display: { xs: 'block', md: 'none' },\n            }}\n          >\n            <MenuItem onClick={handleCloseNavMenu}>\n              <Link href=\"/\" passHref>\n                <Typography textAlign=\"center\">Inicio</Typography>\n              </Link>\n            </MenuItem>\n            <MenuItem onClick={handleCloseNavMenu}>\n              <Link href=\"/ia-assistance\" passHref>\n                <Typography textAlign=\"center\">Asistente IA</Typography>\n              </Link>\n            </MenuItem>\n            <MenuItem onClick={handleCloseNavMenu}>\n              <Link href=\"/blog-search\" passHref>\n                <Typography textAlign=\"center\">Blogs</Typography>\n              </Link>\n            </MenuItem>\n            {isAdmin && (\n              <MenuItem onClick={handleCloseNavMenu}>\n                <Link href=\"/manage_perms\" passHref> {/* Changed from /api/perms/users which is an API */}\n                  <Typography textAlign=\"center\">Gestionar Permisos</Typography>\n                </Link>\n              </MenuItem>\n            )}\n            {isEditorOrAdmin && (\n              <MenuItem onClick={handleCloseNavMenu}>\n                <Link href=\"/create-blog\" passHref>\n                  <Typography textAlign=\"center\">Crear Blog</Typography>\n                </Link>\n              </MenuItem>\n            )}\n            <hr className=\"navbar__mobile-separator\" />\n            {username ? (\n              <Box className=\"navbar__user-info\" sx={{ p: 2 }}>\n                <Typography className=\"navbar__username\" variant=\"body1\">{username}</Typography>\n                <Button onClick={handleLogout} className=\"navbar__utils__logout__button\">Logout</Button>\n              </Box>\n            ) : (\n              <Box className=\"navbar__utils__container\" sx={{ flexDirection: 'column', gap: 1, p: 2 }}>\n                {currentPage !== 'login' && (\n                  <Link href=\"/login\" passHref>\n                    <Button className=\"navbar__utils__login__button\" variant=\"contained\">Iniciar sesión</Button>\n                  </Link>\n                )}\n                {currentPage !== 'register' && (\n                  <Link href=\"/register\" passHref>\n                    <Button className=\"navbar__utils__login__button\" variant=\"contained\">Registrarse</Button>\n                  </Link>\n                )}\n              </Box>\n            )}\n          </Menu>\n        </Box>\n\n        {/* Desktop menu */}\n        <Box sx={{ flexGrow: 1, display: { xs: 'none', md: 'flex' }, justifyContent: 'flex-end', alignItems: 'center' }}>\n          <Box component=\"ul\" className=\"navbar__pages__list\" sx={{ display: 'flex', gap: 3, position: 'absolute', left: '50%', transform: 'translateX(-50%)' }}>\n            <li><Link href=\"/\" passHref><Typography>Inicio</Typography></Link></li>\n            <li><Link href=\"/ia-assistance\" passHref><Typography>Asistente IA</Typography></Link></li>\n            <li><Link href=\"/blog-search\" passHref><Typography>Blogs</Typography></Link></li>\n            {isAdmin && (\n              <li><Link href=\"/manage_perms\" passHref><Typography>Gestionar Permisos</Typography></Link></li>\n            )}\n            {isEditorOrAdmin && (\n              <li><Link href=\"/create-blog\" passHref><Typography>Crear Blog</Typography></Link></li>\n            )}\n          </Box>\n          <Box className=\"navbar__utils__container\" sx={{ display: 'flex', gap: 2 }}>\n            {username ? (\n              <Box className=\"navbar__user-info\" sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                <Typography className=\"navbar__username\" variant=\"body1\">{username}</Typography>\n                <Button onClick={handleLogout} className=\"navbar__utils__logout__button\">Logout</Button>\n              </Box>\n            ) : (\n              <>\n                {currentPage !== 'login' && (\n                  <Link href=\"/login\" passHref>\n                    <Button className=\"navbar__utils__login__button\" variant=\"contained\">Iniciar sesión</Button>\n                  </Link>\n                )}\n                {currentPage !== 'register' && (\n                  <Link href=\"/register\" passHref>\n                    <Button className=\"navbar__utils__login__button\" variant=\"contained\">Registrarse</Button>\n                  </Link>\n                )}\n              </>\n            )}\n          </Box>\n        </Box>\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default ClientNavbar;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 702, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/donov/OneDrive/Escritorio/Escuela/Semester_3/Web_development_final_project/z/refactor_page/src/components/BlogCard.tsx"],"sourcesContent":["\"use client\";\n\nimport React from 'react';\nimport Link from 'next/link';\nimport Card from '@mui/material/Card';\nimport CardContent from '@mui/material/CardContent';\nimport CardMedia from '@mui/material/CardMedia';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport Box from '@mui/material/Box';\n\ninterface BlogPost {\n  blog_id: string; // Assuming blog_id is a string, typically ObjectId from MongoDB\n  img_url: string;\n  title: string;\n  description: string;\n}\n\ninterface BlogCardProps {\n  post: BlogPost;\n}\n\nconst BlogCard: React.FC<BlogCardProps> = ({ post }) => {\n  return (\n    <Card className=\"card\">\n      <CardMedia\n        component=\"img\"\n        height=\"140\" // You might want to adjust this or make it responsive\n        image={post.img_url}\n        alt=\"Blog post image\"\n        className=\"card__image\"\n      />\n      <CardContent className=\"card__content\">\n        <Typography gutterBottom variant=\"h5\" component=\"div\" className=\"card__title\">\n          {post.title}\n        </Typography>\n        <Typography variant=\"body2\" color=\"text.secondary\" className=\"card__description\">\n          {post.description}\n        </Typography>\n        <Link href={`/blog/${post.blog_id}`} passHref>\n          <Button size=\"small\" className=\"card__button\">\n            Leer más\n          </Button>\n        </Link>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default BlogCard;\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AARA;;;;;;;;AAsBA,MAAM,WAAoC,CAAC,EAAE,IAAI,EAAE;IACjD,qBACE,wVAAC,6QAAI;QAAC,WAAU;;0BACd,wVAAC,uRAAS;gBACR,WAAU;gBACV,QAAO;gBACP,OAAO,KAAK,OAAO;gBACnB,KAAI;gBACJ,WAAU;;;;;;0BAEZ,wVAAC,2RAAW;gBAAC,WAAU;;kCACrB,wVAAC,yRAAU;wBAAC,YAAY;wBAAC,SAAQ;wBAAK,WAAU;wBAAM,WAAU;kCAC7D,KAAK,KAAK;;;;;;kCAEb,wVAAC,yRAAU;wBAAC,SAAQ;wBAAQ,OAAM;wBAAiB,WAAU;kCAC1D,KAAK,WAAW;;;;;;kCAEnB,wVAAC,iRAAI;wBAAC,MAAM,CAAC,MAAM,EAAE,KAAK,OAAO,EAAE;wBAAE,QAAQ;kCAC3C,cAAA,wVAAC,iRAAM;4BAAC,MAAK;4BAAQ,WAAU;sCAAe;;;;;;;;;;;;;;;;;;;;;;;AAOxD;uCAEe"}},
    {"offset": {"line": 795, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/donov/OneDrive/Escritorio/Escuela/Semester_3/Web_development_final_project/z/refactor_page/src/app/blog-search/BlogSearchWrapper.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport BlogCard from \"@/components/BlogCard\";\nimport Link from 'next/link';\n\nexport default function BlogSearchWrapper() {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [blogPosts, setBlogPosts] = useState<any>([]);\n  const [loading, setLoading] = useState(true);\n  const router = useRouter();\n  const searchParams = useSearchParams();\n\n  // Placeholder for user data\n  const username = null; // Or fetch from context/session\n  const user = null; // Or fetch from context/session\n\n  useEffect(() => {\n    const initialSearchTerm = searchParams.get('searchTerm');\n    if (initialSearchTerm) {\n      setSearchTerm(initialSearchTerm);\n    }\n    fetchBlogs(initialSearchTerm || '');\n  }, [searchParams]);\n\n  const fetchBlogs = async (term: string) => {\n    setLoading(true);\n    try {\n      const response = await fetch(`/api/blog-search?searchTerm=${encodeURIComponent(term)}`);\n      if (response.ok) {\n        const data = await response.json();\n        setBlogPosts(data);\n      } else {\n        console.error('Failed to fetch blog posts:', response.statusText);\n        setBlogPosts([]);\n      }\n    } catch (error) {\n      console.error('Error fetching blog posts:', error);\n      setBlogPosts([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSearchSubmit = (event: React.FormEvent) => {\n    event.preventDefault();\n    router.push(`/blog-search?searchTerm=${encodeURIComponent(searchTerm)}`);\n  };\n\n  return (\n    <>\n      <div className=\"blog-search__container\">\n        <form id=\"blog-search-form\" onSubmit={handleSearchSubmit}>\n          <h1 className=\"blog-search__title\">Buscar Blogs</h1>\n          <input\n            type=\"text\"\n            className=\"blog-search__search-bar\"\n            placeholder=\"Buscar por título o descripción...\"\n            id=\"searchTerm\"\n            name=\"searchTerm\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n          />\n          <button\n            type=\"submit\"\n            className=\"btn btn-search btn-search--md\"\n            aria-label=\"Buscar\"\n          >\n            Buscar\n          </button>\n        </form>\n      </div>\n\n      <div className=\"blog-search__grid\">\n        {loading ? (\n          <p>Cargando blogs...</p>\n        ) : (\n          <>\n            {blogPosts.length > 0 ? (\n              blogPosts.map((post) => (\n                <BlogCard key={post.blog_id} post={post} />\n              ))\n            ) : (\n              <>\n                <p>No encontramos el blogpost que estaba buscando</p>\n                <Link href=\"/blog-search\" passHref>\n                  <button className=\"navbar__utils__login__button\">Blogs</button>\n                </Link>\n              </>\n            )}\n          </>\n        )}\n      </div>\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,2TAAQ,EAAC;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,2TAAQ,EAAM,EAAE;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,2TAAQ,EAAC;IACvC,MAAM,SAAS,IAAA,yPAAS;IACxB,MAAM,eAAe,IAAA,+PAAe;IAEpC,4BAA4B;IAC5B,MAAM,WAAW,MAAM,gCAAgC;IACvD,MAAM,OAAO,MAAM,gCAAgC;IAEnD,IAAA,4TAAS,EAAC;QACR,MAAM,oBAAoB,aAAa,GAAG,CAAC;QAC3C,IAAI,mBAAmB;YACrB,cAAc;QAChB;QACA,WAAW,qBAAqB;IAClC,GAAG;QAAC;KAAa;IAEjB,MAAM,aAAa,OAAO;QACxB,WAAW;QACX,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,CAAC,4BAA4B,EAAE,mBAAmB,OAAO;YACtF,IAAI,SAAS,EAAE,EAAE;gBACf,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,aAAa;YACf,OAAO;gBACL,QAAQ,KAAK,CAAC,+BAA+B,SAAS,UAAU;gBAChE,aAAa,EAAE;YACjB;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,8BAA8B;YAC5C,aAAa,EAAE;QACjB,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,qBAAqB,CAAC;QAC1B,MAAM,cAAc;QACpB,OAAO,IAAI,CAAC,CAAC,wBAAwB,EAAE,mBAAmB,aAAa;IACzE;IAEA,qBACE;;0BACE,wVAAC;gBAAI,WAAU;0BACb,cAAA,wVAAC;oBAAK,IAAG;oBAAmB,UAAU;;sCACpC,wVAAC;4BAAG,WAAU;sCAAqB;;;;;;sCACnC,wVAAC;4BACC,MAAK;4BACL,WAAU;4BACV,aAAY;4BACZ,IAAG;4BACH,MAAK;4BACL,OAAO;4BACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;;;;;;sCAE/C,wVAAC;4BACC,MAAK;4BACL,WAAU;4BACV,cAAW;sCACZ;;;;;;;;;;;;;;;;;0BAML,wVAAC;gBAAI,WAAU;0BACZ,wBACC,wVAAC;8BAAE;;;;;yCAEH;8BACG,UAAU,MAAM,GAAG,IAClB,UAAU,GAAG,CAAC,CAAC,qBACb,wVAAC,mPAAQ;4BAAoB,MAAM;2BAApB,KAAK,OAAO;;;;kDAG7B;;0CACE,wVAAC;0CAAE;;;;;;0CACH,wVAAC,iRAAI;gCAAC,MAAK;gCAAe,QAAQ;0CAChC,cAAA,wVAAC;oCAAO,WAAU;8CAA+B;;;;;;;;;;;;;;;;;;;;;AASnE"}},
    {"offset": {"line": 955, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/donov/OneDrive/Escritorio/Escuela/Semester_3/Web_development_final_project/z/refactor_page/src/app/blog-search/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation'; // Import useRouter\nimport ClientNavbar from '@/components/ClientNavbar';\nimport BlogSearchWrapper from './BlogSearchWrapper';\n\nexport default function BlogSearchPage() {\n  const [username, setUsername] = useState<string | null>(null);\n  const [userPerms, setUserPerms] = useState<{ permsLabel: string } | null>(null);\n  const [loadingUser, setLoadingUser] = useState(true);\n  const router = useRouter(); // Initialize useRouter\n\n  useEffect(() => {\n    const fetchUserSession = async () => {\n      try {\n        const response = await fetch('/api/auth/session');\n        if (response.ok) {\n          const data = await response.json();\n          if (data.user) {\n            setUsername(data.user.name);\n            setUserPerms({ permsLabel: data.user.permsLabel });\n          } else {\n            setUsername(null);\n            setUserPerms(null);\n          }\n        } else {\n          setUsername(null);\n          setUserPerms(null);\n        }\n      } catch (error) {\n        console.error('Error fetching user session:', error);\n        setUsername(null);\n        setUserPerms(null);\n      } finally {\n        setLoadingUser(false);\n      }\n    };\n\n    fetchUserSession();\n  }, []);\n\n  // Determine currentPage for Navbar\n  const currentPage = router.pathname ? router.pathname.split('/').pop() : '';\n\n  return (\n    <>\n      <ClientNavbar\n        username={username}\n        currentPage={currentPage}\n        user={userPerms}\n      />\n      <BlogSearchWrapper />\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA,qaAA6C,mBAAmB;AAChE;AACA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,2TAAQ,EAAgB;IACxD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,2TAAQ,EAAgC;IAC1E,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,2TAAQ,EAAC;IAC/C,MAAM,SAAS,IAAA,yPAAS,KAAI,uBAAuB;IAEnD,IAAA,4TAAS,EAAC;QACR,MAAM,mBAAmB;YACvB,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM;gBAC7B,IAAI,SAAS,EAAE,EAAE;oBACf,MAAM,OAAO,MAAM,SAAS,IAAI;oBAChC,IAAI,KAAK,IAAI,EAAE;wBACb,YAAY,KAAK,IAAI,CAAC,IAAI;wBAC1B,aAAa;4BAAE,YAAY,KAAK,IAAI,CAAC,UAAU;wBAAC;oBAClD,OAAO;wBACL,YAAY;wBACZ,aAAa;oBACf;gBACF,OAAO;oBACL,YAAY;oBACZ,aAAa;gBACf;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,gCAAgC;gBAC9C,YAAY;gBACZ,aAAa;YACf,SAAU;gBACR,eAAe;YACjB;QACF;QAEA;IACF,GAAG,EAAE;IAEL,mCAAmC;IACnC,MAAM,cAAc,OAAO,QAAQ,GAAG,OAAO,QAAQ,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK;IAEzE,qBACE;;0BACE,wVAAC,uPAAY;gBACX,UAAU;gBACV,aAAa;gBACb,MAAM;;;;;;0BAER,wVAAC,uQAAiB;;;;;;;AAGxB"}}]
}