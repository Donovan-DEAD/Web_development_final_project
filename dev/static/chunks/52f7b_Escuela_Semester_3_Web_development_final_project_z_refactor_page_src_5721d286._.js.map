{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["C:/Users/donov/OneDrive/Escritorio/Escuela/Semester_3/Web_development_final_project/z/refactor_page/src/components/UserPermsRow.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from 'react';\nimport TableRow from '@mui/material/TableRow';\nimport TableCell from '@mui/material/TableCell';\nimport Select, { SelectChangeEvent } from '@mui/material/Select';\nimport MenuItem from '@mui/material/MenuItem';\nimport Button from '@mui/material/Button';\nimport { Typography } from '@mui/material';\n\ninterface UserPermsRowProps {\n  user: {\n    _id: string;\n    email: string;\n    name: string;\n    permsLabel: string; // 'admin', 'editor', or 'user'\n  };\n  onPermissionChange: (userId: string, newPerm: string) => void;\n  onDeleteUser: (userId: string) => void;\n}\n\nconst UserPermsRow: React.FC<UserPermsRowProps> = ({ user, onPermissionChange, onDeleteUser }) => {\n  const [selectedPerm, setSelectedPerm] = useState<string>(user.permsLabel);\n\n  const handlePermChange = (event: SelectChangeEvent<string>) => {\n    const newPerm = event.target.value;\n    setSelectedPerm(newPerm);\n    onPermissionChange(user._id, newPerm);\n  };\n\n  const handleDeleteClick = () => {\n    onDeleteUser(user._id);\n  };\n\n  return (\n    <TableRow data-user-id={user._id}>\n      <TableCell>\n        <Typography>{user.email}</Typography>\n      </TableCell>\n      <TableCell>\n        <Typography>{user.name}</Typography>\n      </TableCell>\n      <TableCell>\n        <Select\n          value={selectedPerm}\n          onChange={handlePermChange}\n          displayEmpty\n          inputProps={{ 'aria-label': 'Without label' }}\n          className=\"form-select permission-select\"\n          data-original-permission={user.permsLabel}\n          sx={{ minWidth: 120 }} // Basic styling, use CSS for more control\n        >\n          <MenuItem value=\"admin\">Admin</MenuItem>\n          <MenuItem value=\"editor\">Editor</MenuItem>\n          <MenuItem value=\"user\">User</MenuItem>\n        </Select>\n      </TableCell>\n      <TableCell>\n        <Button\n          variant=\"contained\"\n          color=\"error\"\n          className=\"btn btn-danger delete-user-btn\"\n          onClick={handleDeleteClick}\n        >\n          Eliminar\n        </Button>\n      </TableCell>\n    </TableRow>\n  );\n};\n\nexport default UserPermsRow;\n"],"names":["c","_c","React","useState","TableRow","TableCell","Select","SelectChangeEvent","MenuItem","Button","Typography","UserPermsRowProps","user","_id","email","name","permsLabel","onPermissionChange","userId","newPerm","onDeleteUser","UserPermsRow","FC","t0","$","$i","Symbol","for","selectedPerm","setSelectedPerm","t1","event","target","value","handlePermChange","t2","handleDeleteClick","t3","t4","t5","t6","t7","t8","t9","minWidth","t10","t11","t12"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 251, "column": 0}, "map": {"version":3,"sources":["C:/Users/donov/OneDrive/Escritorio/Escuela/Semester_3/Web_development_final_project/z/refactor_page/src/components/Toast.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from 'react';\nimport Snackbar from '@mui/material/Snackbar';\nimport MuiAlert, { AlertProps } from '@mui/material/Alert';\nimport IconButton from '@mui/material/IconButton';\nimport CloseIcon from '@mui/icons-material/Close';\nimport Typography from '@mui/material/Typography';\nimport Box from '@mui/material/Box';\n\ninterface ToastProps {\n  message: string | null;\n  // Optional: type of toast (e.g., 'error', 'success', 'info', 'warning')\n  severity?: 'error' | 'warning' | 'info' | 'success'; \n  duration?: number; // Duration in milliseconds, defaults to 5000\n}\n\n// Custom Alert component to match existing CSS classes if needed\nconst Alert = React.forwardRef<HTMLDivElement, AlertProps>(function Alert(\n  props,\n  ref,\n) {\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\n});\n\nconst Toast: React.FC<ToastProps> = ({ message, severity = 'error', duration = 5000 }) => {\n  const [open, setOpen] = useState(false);\n\n  useEffect(() => {\n    if (message) {\n      setOpen(true);\n    }\n  }, [message]);\n\n  const handleClose = (event?: React.SyntheticEvent | Event, reason?: string) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setOpen(false);\n  };\n\n  if (!message) {\n    return null; // Don't render anything if there's no message\n  }\n\n  const action = (\n    <IconButton\n      size=\"small\"\n      aria-label=\"close\"\n      color=\"inherit\"\n      onClick={handleClose}\n    >\n      <CloseIcon fontSize=\"small\" />\n    </IconButton>\n  );\n\n  return (\n    <Snackbar\n      open={open}\n      autoHideDuration={duration}\n      onClose={handleClose}\n      anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n    >\n      <Alert onClose={handleClose} severity={severity} sx={{ width: '100%' }} className=\"toast-header\">\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', width: '100%' }}>\n          <Typography variant=\"body1\" sx={{ fontWeight: 'bold' }}>\n            {severity === 'error' ? 'Error' : 'Message'} {/* Default to Error or Message */}\n          </Typography>\n          {action}\n        </Box>\n        <Typography variant=\"body2\" className=\"toast-body\">\n          {message}\n        </Typography>\n      </Alert>\n    </Snackbar>\n  );\n};\n\nexport default Toast;\n"],"names":["c","_c","React","useState","useEffect","Snackbar","MuiAlert","AlertProps","IconButton","CloseIcon","Typography","Box","ToastProps","message","severity","duration","Alert","forwardRef","HTMLDivElement","props","ref","$","$i","Symbol","for","t0","Toast","FC","t1","t2","undefined","open","setOpen","t3","t4","t5","event","reason","handleClose","t6","action","t7","vertical","horizontal","t8","width","t9","display","justifyContent","alignItems","t10","fontWeight","t11","t12","t13","t14","t15"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 521, "column": 0}, "map": {"version":3,"sources":["C:/Users/donov/OneDrive/Escritorio/Escuela/Semester_3/Web_development_final_project/z/refactor_page/src/app/manage_perms/ManagePermsWrapper.tsx"],"sourcesContent":["\"use client\"\nimport React, { useState, useEffect } from 'react';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport UserPermsRow from \"@/components/UserPermsRow\";\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport Pagination from '@mui/material/Pagination';\nimport Box from '@mui/material/Box';\nimport { Typography, TextField, Button as MuiButton, Select, MenuItem } from '@mui/material';\nimport Toast from '@/components/Toast'; // Assuming Toast component is generic enough\nimport { IUser } from '@/lib/models/user'; // Import IUser interface\n\ninterface UserDisplay extends IUser {\n  // Add any client-side specific fields if necessary,\n  // but mostly just reusing IUser\n}\n\ninterface ManagePermsWrapperProps {\n  authenticatedUser: IUser;\n}\n\nexport default function ManagePermsWrapper({ authenticatedUser }: ManagePermsWrapperProps) {\n  const [users, setUsers] = useState<UserDisplay[]>([]);\n  const [totalPages, setTotalPages] = useState(1);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchField, setSearchField] = useState('email'); // 'email' or 'name'\n  const [loading, setLoading] = useState(true);\n  const [toastMessage, setToastMessage] = useState<string | null>(null);\n  const router = useRouter();\n  const searchParams = useSearchParams();\n\n  const fetchUsers = async (page: number, field?: string, query?: string) => {\n    setLoading(true);\n    setToastMessage(null);\n    try {\n      let url = `/api/users?page=${page}`;\n      if (field && query) {\n        url += `&field=${field}&query=${query}`;\n      }\n      const response = await fetch(url);\n      if (!response.ok) {\n        if (response.status === 401 || response.status === 403) {\n            router.push('/login'); // Redirect to login if API says unauthorized\n            return;\n        }\n        throw new Error('Failed to fetch users.');\n      }\n      const data = await response.json();\n      setUsers(data.users);\n      setTotalPages(data.totalPages);\n      setCurrentPage(data.currentPage);\n    } catch (error: any) {\n      console.error('Error fetching users:', error);\n      setToastMessage(error.message || 'Error al cargar usuarios.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    // authenticatedUser is guaranteed to be present due to the server component wrapper\n    const pageParam = parseInt(searchParams.get('page') || '1', 10);\n    const fieldParam = searchParams.get('field') || undefined;\n    const queryParam = searchParams.get('query') || undefined;\n    setCurrentPage(pageParam);\n    setSearchField(fieldParam || 'email');\n    setSearchTerm(queryParam || '');\n    fetchUsers(pageParam, fieldParam, queryParam);\n  }, [searchParams]);\n\n\n  const handlePageChange = (event: React.ChangeEvent<unknown>, value: number) => {\n    const params = new URLSearchParams(searchParams.toString());\n    params.set('page', value.toString());\n    router.push(`?${params.toString()}`);\n  };\n\n  const handleSearch = () => {\n    const params = new URLSearchParams(searchParams.toString());\n    params.set('page', '1'); // Reset to first page on new search\n    if (searchTerm) {\n      params.set('field', searchField);\n      params.set('query', searchTerm);\n    } else {\n      params.delete('field');\n      params.delete('query');\n    }\n    router.push(`?${params.toString()}`);\n  };\n\n  const handlePermissionChange = async (userId: string, newPermLabel: string) => {\n    setToastMessage(null);\n    try {\n      const response = await fetch('/api/users', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ id: userId, perm: newPermLabel }),\n      });\n\n      if (response.ok) {\n        setToastMessage('Permiso actualizado con éxito.');\n        fetchUsers(currentPage, searchField, searchTerm); // Refresh data\n      } else {\n        const errorData = await response.json();\n        setToastMessage(errorData.message || 'Error al actualizar el permiso.');\n        if (response.status === 401 || response.status === 403) {\n            router.push('/login'); // Redirect if API says unauthorized\n        }\n      }\n    } catch (error) {\n      console.error('Error updating permission:', error);\n      setToastMessage('Error de red al actualizar permiso.');\n    }\n  };\n\n  const handleDeleteUser = async (userId: string) => {\n    setToastMessage(null);\n    if (!confirm('¿Estás seguro de que quieres eliminar este usuario?')) {\n      return;\n    }\n\n    try {\n      const response = await fetch('/api/users', {\n        method: 'DELETE',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ id: userId }),\n      });\n\n      if (response.ok) {\n        setToastMessage('Usuario eliminado con éxito.');\n        fetchUsers(currentPage, searchField, searchTerm); // Refresh data\n      } else {\n        const errorData = await response.json();\n        setToastMessage(errorData.message || 'Error al eliminar el usuario.');\n        if (response.status === 401 || response.status === 403) {\n            router.push('/login'); // Redirect if API says unauthorized\n        }\n      }\n    } catch (error) {\n      console.error('Error deleting user:', error);\n      setToastMessage('Error de red al eliminar usuario.');\n    }\n  };\n  \n  return (\n    <>\n      {toastMessage && <Toast message={toastMessage} severity=\"error\" />}\n\n      <div className=\"container mt-5\">\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom>Gestionar Permisos de Usuario</Typography>\n        <hr />\n\n        <Box sx={{ display: 'flex', gap: 2, mb: 3 }}>\n          <TextField\n            label=\"Buscar\"\n            variant=\"outlined\"\n            size=\"small\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            onKeyPress={(e) => { if (e.key === 'Enter') handleSearch(); }}\n          />\n          <Select\n            value={searchField}\n            onChange={(e) => setSearchField(e.target.value)}\n            displayEmpty\n            inputProps={{ 'aria-label': 'Select search field' }}\n            size=\"small\"\n          >\n            <MenuItem value=\"email\">Email</MenuItem>\n            <MenuItem value=\"name\">Nombre</MenuItem>\n          </Select>\n          <MuiButton variant=\"contained\" onClick={handleSearch}>Buscar</MuiButton>\n        </Box>\n\n        <TableContainer component={Paper}>\n          <Table className=\"table table-striped table-hover\">\n            <TableHead className=\"thead-dark\">\n              <TableRow>\n                <TableCell>Email</TableCell>\n                <TableCell>Nombre</TableCell>\n                <TableCell>Permiso</TableCell>\n                <TableCell>Acción</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody id=\"user-table-body\">\n              {loading ? (\n                <TableRow>\n                  <TableCell colSpan={4} align=\"center\">Cargando usuarios...</TableCell>\n                </TableRow>\n              ) : (\n                users.length > 0 ? (\n                  users.map((u) => (\n                    <UserPermsRow\n                      key={u._id}\n                      user={u}\n                      onPermissionChange={handlePermissionChange}\n                      onDeleteUser={handleDeleteUser}\n                    />\n                  ))\n                ) : (\n                  <TableRow>\n                    <TableCell colSpan={4} align=\"center\">No se encontraron usuarios.</TableCell>\n                  </TableRow>\n                )\n              )}\n            </TableBody>\n          </Table>\n        </TableContainer>\n\n        {totalPages > 1 && (\n          <Box sx={{ display: 'flex', justifyContent: 'center', mt: 3 }}>\n            <Pagination\n              count={totalPages}\n              page={currentPage}\n              onChange={handlePageChange}\n              color=\"primary\"\n            />\n          </Box>\n        )}\n      </div>\n    </>\n  );\n}\n"],"names":["React","useState","useEffect","useRouter","useSearchParams","UserPermsRow","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Pagination","Box","Typography","TextField","Button","MuiButton","Select","MenuItem","Toast","IUser","UserDisplay","ManagePermsWrapperProps","authenticatedUser","ManagePermsWrapper","users","setUsers","totalPages","setTotalPages","currentPage","setCurrentPage","searchTerm","setSearchTerm","searchField","setSearchField","loading","setLoading","toastMessage","setToastMessage","router","searchParams","fetchUsers","page","field","query","url","response","fetch","ok","status","push","Error","data","json","error","console","message","pageParam","parseInt","get","fieldParam","undefined","queryParam","handlePageChange","event","ChangeEvent","value","params","URLSearchParams","toString","set","handleSearch","delete","handlePermissionChange","userId","newPermLabel","method","headers","body","JSON","stringify","id","perm","errorData","handleDeleteUser","confirm","display","gap","mb","e","target","key","length","map","u","_id","justifyContent","mt"],"mappings":"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","ignoreList":[]}}]
}